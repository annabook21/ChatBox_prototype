<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contextual Chatbot with Amazon Bedrock</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        /* AWS Themed Color Palette */
        :root {
            --primary-color: #FF9900;   /* AWS Orange */
            --secondary-color: #545B64; /* AWS Medium Gray */
            --accent-color: #FF9900;    /* AWS Orange for accents */
            --bg-primary: #232F3E;      /* AWS Squid Ink */
            --bg-secondary: #1a2433;    /* A slightly lighter Squid Ink */
            --bg-card: #2c3b4f;         /* A lighter shade for cards */
            --bg-code: #1a2433;         /* Code blocks background */
            --text-primary: #EAEDED;    /* AWS Light Gray/Off-white */
            --text-secondary: #879196;  /* AWS Gray for secondary text */
            --text-accent: #FF9900;     /* Orange text for code, etc. */
            --border-color: #545B64;    /* Medium Gray for borders */
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            --gradient: linear-gradient(135deg, #FF9900 0%, #d17f00 100%);
        }
        body {
            font-family: 'Roboto', -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Arial, sans-serif;
            line-height: 1.7;
            color: var(--text-primary);
            background: var(--bg-primary);
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(255, 153, 0, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(84, 91, 100, 0.1) 0%, transparent 50%);
            min-height: 100vh;
        }
        .header {
            background: var(--gradient);
            padding: 60px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        .header h1 {
            font-size: 3em;
            font-weight: 800;
            color: var(--bg-primary);
            margin-bottom: 10px;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.2);
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            color: rgba(35, 47, 62, 0.9);
            font-size: 1.2em;
            position: relative;
            z-index: 1;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        .section {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .section:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(255, 153, 0, 0.1);
        }
        h2 {
            color: var(--primary-color);
            font-size: 2.2em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        h2::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 30px;
            background: var(--gradient);
            border-radius: 2px;
        }
        h3 {
            color: var(--accent-color);
            font-size: 1.6em;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        p { margin-bottom: 1.2em; color: var(--text-secondary); font-size: 1.05em; }
        code {
            background: var(--bg-code);
            padding: 3px 8px;
            border-radius: 6px;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', monospace;
            font-size: 0.9em;
            color: var(--accent-color);
            border: 1px solid var(--border-color);
        }
        pre {
            background: var(--bg-code);
            padding: 20px;
            border-radius: 12px;
            overflow-x: auto;
            border: 1px solid var(--border-color);
            margin: 20px 0;
            position: relative;
        }
        pre::before {
            content: 'BASH';
            position: absolute;
            top: 10px; right: 10px;
            padding: 2px 8px;
            background: var(--bg-primary);
            border-radius: 4px;
            font-size: 0.75em;
            color: var(--text-secondary);
            font-family: sans-serif;
        }
        pre code { background: none; padding: 0; border: none; color: var(--text-primary); font-size: 0.95em; }
        ul, ol { padding-left: 25px; margin-bottom: 1.2em; }
        li { margin-bottom: 0.8em; color: var(--text-secondary); }
        li strong { color: var(--primary-color); }
        .mermaid-container {
            background: rgba(35, 47, 62, 0.5);
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
            border: 2px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }
        .mermaid-container::before {
            content: 'Architecture Diagram';
            position: absolute; top: 10px; left: 20px;
            padding: 4px 12px;
            background: var(--bg-card);
            border-radius: 6px;
            font-size: 0.85em;
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }
        .mermaid { background: transparent; text-align: center; padding-top: 20px; }
        .component-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .component-card {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }
        .component-card:hover {
            background: rgba(255, 153, 0, 0.05);
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }
        .component-card h4 { color: var(--primary-color); margin-bottom: 10px; font-size: 1.2em; }
        .badge {
            display: inline-block; padding: 4px 10px;
            background: rgba(255, 153, 0, 0.2);
            border: 1px solid var(--primary-color);
            border-radius: 20px; font-size: 0.85em; color: var(--primary-color);
            margin-right: 8px; margin-bottom: 8px;
        }
        .steps { counter-reset: step-counter; list-style: none; padding-left: 0; }
        .steps li { counter-increment: step-counter; position: relative; padding-left: 50px; margin-bottom: 25px; }
        .steps li::before {
            content: counter(step-counter);
            position: absolute; left: 0; top: 0; width: 35px; height: 35px;
            background: var(--gradient);
            border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--bg-primary); font-weight: bold;
        }
        .footer { text-align: center; padding: 40px 20px; color: var(--text-secondary); border-top: 1px solid var(--border-color); }
        @media (max-width: 768px) {
            .header h1 { font-size: 2em; }
            h2 { font-size: 1.8em; }
            .component-grid { grid-template-columns: 1fr; }
        }
        .diagram-container {
            background:#1a2433;
            border-radius:12px;
            padding:20px;
            overflow-x:auto;
            border:1px solid var(--border-color);
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Contextual Chatbot</h1>
        <p class="subtitle">Powered by Amazon Bedrock Knowledge Bases</p>
    </div>

    <div class="container">
        <div class="section">
            <h2>Overview</h2>
            <p>A production-ready, fully deployable contextual chatbot application leveraging Amazon Bedrock Knowledge Bases for intelligent document processing and retrieval-augmented generation (RAG). This solution provides enterprise-grade security, monitoring, and disaster recovery capabilities out of the box.</p>
            <div class="component-grid">
                <div class="component-card">
                    <h4>🚀 Serverless Architecture</h4>
                    <p>Fully serverless design with auto-scaling capabilities and pay-per-use pricing model.</p>
                </div>
                <div class="component-card">
                    <h4>🔒 Enterprise Security</h4>
                    <p>WAF protection, VPC isolation, KMS encryption, and Cognito authentication.</p>
                </div>
                <div class="component-card">
                    <h4>📊 Complete Monitoring</h4>
                    <p>CloudWatch dashboards, X-Ray tracing, and automated alerting.</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>High-Level Architecture</h2>
            <div class="mermaid-container">
                <script type="text/mermaid">
graph TB
                        subgraph "User Interface"
                            U[User] -->|HTTPS| CF[CloudFront]
                            CF --> S3F[S3 Frontend]
                        end
                        subgraph "API Layer"
                            CF -->|API Calls| WAF[WAF]
                            WAF --> APIG[API Gateway]
                            APIG -->|Invoke| QL[Query Lambda]
                        end
                        subgraph "Knowledge Base"
                            Admin[Admin] -->|Upload| S3D[S3 Documents]
                            S3D -->|Trigger| PL[Process Lambda]
                            PL -->|Ingest| BKB[Bedrock KB]
                            BKB <--> OS[OpenSearch]
                        end
                        subgraph "Processing"
                            QL -->|Retrieve| BKB
                            QL -->|Generate| BFM[Bedrock Model]
                            QL -->|Cache| DDB[DynamoDB]
                        end
                        subgraph "DR & Backup"
                            S3D -.->|Replicate| S3DR[S3 DR Bucket]
                            DDB -.->|PITR| BKP[Backups]
                        end
                        style U fill:#f9f,stroke:#333,stroke-width:2px
                        style Admin fill:#ccf,stroke:#333,stroke-width:2px
                        style CF fill:#ffa,stroke:#333,stroke-width:2px
                        style BKB fill:#aff,stroke:#333,stroke-width:2px
</script>
            </div>
        </div>

        <div class="section">
            <h2>Detailed AWS Architecture Diagram</h2>
            <p style="margin-bottom: 25px;">Complete infrastructure visualization showing all AWS services deployed by the CloudFormation template in a professional AWS architecture style.</p>
            <div class="diagram-container">
                <svg width="1500" height="980" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="AWS Architecture Diagram">
                    <defs>
                        <marker id="arrow" markerWidth="12" markerHeight="12" refX="10" refY="3.5" orient="auto" markerUnits="strokeWidth">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#EAEDED"/>
                        </marker>
                        <g id="ico-cloud">
                            <circle cx="14" cy="12" r="8" fill="#94a3b8"/>
                            <circle cx="22" cy="12" r="10" fill="#cbd5e1"/>
                            <circle cx="8"  cy="14" r="6" fill="#cbd5e1"/>
                        </g>
                        <g id="ico-shield">
                            <path d="M16 4 L28 8 V18 C28 24 22 28 16 32 C10 28 4 24 4 18 V8 Z" fill="#fca5a5" stroke="#fecaca" stroke-width="1"/>
                            <path d="M8 10 L24 10 M8 14 L24 14 M8 18 L24 18" stroke="#7f1d1d" stroke-width="1.2"/>
                        </g>
                        <g id="ico-gateway">
                            <rect x="4" y="6" width="24" height="20" rx="3" fill="#FFDAB9" stroke="#FF9900" stroke-width="1.2"/>
                            <path d="M12 6 V26 M20 6 V26" stroke="#d17f00" stroke-width="1.2"/>
                        </g>
                        <g id="ico-lambda">
                            <polygon points="16,2 30,10 30,26 16,34 2,26 2,10" fill="#ddd6fe" stroke="#7c3aed" stroke-width="1.2"/>
                            <path d="M12 24 L18 12 L22 20 L25 20" stroke="#5b21b6" stroke-width="2" fill="none"/>
                        </g>
                        <g id="ico-bedrock">
                            <rect x="6" y="6" width="20" height="20" rx="5" fill="#22d3ee" opacity="0.2" stroke="#06b6d4" />
                            <circle cx="12" cy="12" r="2.2" fill="#22d3ee"/>
                            <circle cx="20" cy="12" r="2.2" fill="#22d3ee"/>
                            <circle cx="12" cy="20" r="2.2" fill="#22d3ee"/>
                            <circle cx="20" cy="20" r="2.2" fill="#22d3ee"/>
                            <path d="M12 12 L20 12 M12 12 L12 20 M20 12 L20 20 M12 20 L20 20" stroke="#22d3ee" stroke-width="1.4"/>
                        </g>
                        <g id="ico-dynamo">
                            <ellipse cx="16" cy="8" rx="12" ry="5" fill="#86efac" stroke="#16a34a"/>
                            <rect x="4" y="8" width="24" height="12" fill="#a7f3d0" stroke="#16a34a"/>
                            <ellipse cx="16" cy="20" rx="12" ry="5" fill="#86efac" stroke="#16a34a"/>
                        </g>
                        <g id="ico-search">
                            <circle cx="14" cy="14" r="8" fill="#FFDAB9" stroke="#FF9900"/>
                            <line x1="19" y1="19" x2="28" y2="28" stroke="#FF9900" stroke-width="3"/>
                        </g>
                        <g id="ico-sqs">
                            <rect x="4" y="6" width="24" height="18" rx="3" fill="#fecaca" stroke="#ef4444"/>
                            <polyline points="4,6 16,16 28,6" fill="none" stroke="#ef4444" stroke-width="1.2"/>
                        </g>
                        <g id="ico-sns">
                            <rect x="4" y="8" width="10" height="16" rx="2" fill="#ddd6fe" stroke="#7c3aed"/>
                            <polygon points="14,12 26,8 26,24 14,20" fill="#c4b5fd" stroke="#7c3aed"/>
                        </g>
                        <g id="ico-cw">
                            <circle cx="16" cy="16" r="12" fill="#bae6fd" stroke="#0ea5e9"/>
                            <line x1="16" y1="16" x2="24" y2="10" stroke="#0ea5e9" stroke-width="2"/>
                        </g>
                        <g id="ico-s3">
                            <path d="M4 9 C4 6, 28 6, 28 9 V23 C28 26, 4 26, 4 23 Z" fill="#fca5a5" stroke="#ef4444"/>
                            <ellipse cx="16" cy="9" rx="12" ry="3.2" fill="#fecaca" stroke="#ef4444"/>
                        </g>
                    </defs>

                    <g transform="translate(60,110)">
                        <rect x="0" y="0" width="190" height="90" rx="10" fill="#2c3b4f" stroke="#545B64" stroke-width="2"/>
                        <use href="#ico-cloud" x="12" y="20" />
                        <text x="100" y="38" text-anchor="middle" fill="#EAEDED" font-size="14" font-weight="600">Amazon CloudFront</text>
                        <text x="100" y="60" text-anchor="middle" fill="#879196" font-size="12">Edge CDN</text>
                    </g>
                    <g transform="translate(290,110)">
                        <rect x="0" y="0" width="150" height="90" rx="10" fill="#2c3b4f" stroke="#545B64" stroke-width="2"/>
                        <use href="#ico-shield" x="10" y="10" />
                        <text x="95" y="45" text-anchor="middle" fill="#EAEDED" font-size="14" font-weight="600">AWS WAF</text>
                        <text x="95" y="65" text-anchor="middle" fill="#879196" font-size="12">Web ACL</text>
                    </g>
                    <g transform="translate(470,110)">
                        <rect x="0" y="0" width="210" height="90" rx="10" fill="#2c3b4f" stroke="#FF9900" stroke-width="2"/>
                        <use href="#ico-gateway" x="10" y="10" />
                        <text x="125" y="40" text-anchor="middle" fill="#EAEDED" font-size="14" font-weight="600">Amazon API Gateway</text>
                        <text x="125" y="62" text-anchor="middle" fill="#879196" font-size="12">HTTP API</text>
                    </g>

                    <g transform="translate(730,60)">
                        <rect x="0" y="0" width="210" height="100" rx="10" fill="#2c3b4f" stroke="#545B64" stroke-width="2"/>
                        <use href="#ico-lambda" x="10" y="8" />
                        <text x="125" y="44" text-anchor="middle" fill="#EAEDED" font-size="14" font-weight="600">Lambda — Query</text>
                        <text x="125" y="66" text-anchor="middle" fill="#879196" font-size="12">RAG Orchestrator</text>
                    </g>
                    <g transform="translate(730,210)">
                        <rect x="0" y="0" width="210" height="100" rx="10" fill="#2c3b4f" stroke="#545B64" stroke-width="2"/>
                        <use href="#ico-bedrock" x="10" y="10" />
                        <text x="125" y="46" text-anchor="middle" fill="#EAEDED" font-size="14" font-weight="600">Amazon Bedrock</text>
                        <text x="125" y="68" text-anchor="middle" fill="#879196" font-size="12">FM + KB Retrieval</text>
                    </g>

                    <g transform="translate(990,60)">
                        <rect x="0" y="0" width="220" height="100" rx="10" fill="#2c3b4f" stroke="#545B64" stroke-width="2"/>
                        <use href="#ico-dynamo" x="12" y="8" />
                        <text x="135" y="44" text-anchor="middle" fill="#EAEDED" font-size="14" font-weight="600">Amazon DynamoDB</text>
                        <text x="135" y="66" text-anchor="middle" fill="#879196" font-size="12">Conversations/Cache</text>
                    </g>
                    <g transform="translate(990,210)">
                        <rect x="0" y="0" width="230" height="100" rx="10" fill="#2c3b4f" stroke="#FF9900" stroke-width="2"/>
                        <use href="#ico-search" x="10" y="10" />
                        <text x="140" y="46" text-anchor="middle" fill="#EAEDED" font-size="14" font-weight="600">Amazon OpenSearch</text>
                        <text x="140" y="68" text-anchor="middle" fill="#879196" font-size="12">Vector Index</text>
                    </g>

                    <g transform="translate(1260,60)">
                        <rect x="0" y="0" width="170" height="90" rx="10" fill="#2c3b4f" stroke="#545B64" stroke-width="2"/>
                        <use href="#ico-sqs" x="12" y="10" />
                        <text x="110" y="44" text-anchor="middle" fill="#EAEDED" font-size="14" font-weight="600">Amazon SQS</text>
                        <text x="110" y="64" text-anchor="middle" fill="#879196" font-size="12">Queues + DLQ</text>
                    </g>
                    <g transform="translate(1260,200)">
                        <rect x="0" y="0" width="170" height="90" rx="10" fill="#2c3b4f" stroke="#545B64" stroke-width="2"/>
                        <use href="#ico-sns" x="12" y="8" />
                        <text x="110" y="44" text-anchor="middle" fill="#EAEDED" font-size="14" font-weight="600">Amazon SNS</text>
                        <text x="110" y="64" text-anchor="middle" fill="#879196" font-size="12">Alerts</text>
                    </g>
                    <g transform="translate(1260,340)">
                        <rect x="0" y="0" width="190" height="90" rx="10" fill="#2c3b4f" stroke="#545B64" stroke-width="2"/>
                        <use href="#ico-cw" x="14" y="8" />
                        <text x="118" y="44" text-anchor="middle" fill="#EAEDED" font-size="14" font-weight="600">Amazon CloudWatch</text>
                        <text x="118" y="64" text-anchor="middle" fill="#879196" font-size="12">Metrics/Alarms/X-Ray</text>
                    </g>

                    <g transform="translate(60,260)">
                        <rect x="0" y="0" width="310" height="120" rx="10" fill="#2c3b4f" stroke="#545B64" stroke-width="2"/>
                        <use href="#ico-s3" x="12" y="14" />
                        <text x="170" y="40" text-anchor="middle" fill="#EAEDED" font-size="14" font-weight="600">S3 Frontend (OAI)</text>
                        <text x="170" y="62" text-anchor="middle" fill="#879196" font-size="12">Static Web + CF Origin</text>
                    </g>
                    <g transform="translate(420,260)">
                        <rect x="0" y="0" width="290" height="120" rx="10" fill="#2c3b4f" stroke="#545B64" stroke-width="2"/>
                        <use href="#ico-s3" x="12" y="14" />
                        <text x="155" y="40" text-anchor="middle" fill="#EAEDED" font-size="14" font-weight="600">S3 Dataset</text>
                        <text x="155" y="62" text-anchor="middle" fill="#879196" font-size="12">Docs / Ingest Triggers</text>
                    </g>
                    <g transform="translate(750,360)">
                        <rect x="0" y="0" width="290" height="120" rx="10" fill="#2c3b4f" stroke="#545B64" stroke-width="2"/>
                        <use href="#ico-s3" x="12" y="14" />
                        <text x="155" y="40" text-anchor="middle" fill="#EAEDED" font-size="14" font-weight="600">S3 Logs</text>
                        <text x="155" y="62" text-anchor="middle" fill="#879196" font-size="12">Access/CF/WAF Logs</text>
                    </g>

                    <g transform="translate(980,520)">
                        <rect x="0" y="0" width="420" height="170" rx="12" fill="rgba(35, 47, 62, 0.6)" stroke="#FF9900" stroke-width="2" stroke-dasharray="8 6"/>
                        <text x="210" y="26" text-anchor="middle" fill="#EAEDED" font-size="14" font-weight="700">Disaster Recovery — Secondary Region</text>
                        <use href="#ico-s3" x="24" y="40" />
                        <text x="105" y="70" fill="#EAEDED" font-size="13" font-weight="600">S3 (CRR)</text>
                        <text x="105" y="90" fill="#879196" font-size="12">15 min RTO</text>
                        <use href="#ico-dynamo" x="210" y="36" />
                        <text x="300" y="70" fill="#EAEDED" font-size="13" font-weight="600">DynamoDB PITR</text>
                        <text x="300" y="90" fill="#879196" font-size="12">Backups</text>
                    </g>

                    <line x1="250" y1="155" x2="290" y2="155" stroke="#879196" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="440" y1="155" x2="470" y2="155" stroke="#879196" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="680" y1="155" x2="730" y2="110" stroke="#879196" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="680" y1="155" x2="730" y2="260" stroke="#879196" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="940" y1="110" x2="990" y2="110" stroke="#879196" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="940" y1="260" x2="990" y2="260" stroke="#879196" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="1210" y1="110" x2="1260" y2="110" stroke="#879196" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="1210" y1="260" x2="1260" y2="245" stroke="#879196" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="1210" y1="260" x2="1260" y2="385" stroke="#879196" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="710" y1="320" x2="990" y2="260" stroke="#879196" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="710" y1="300" x2="1260" y2="110" stroke="#879196" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="155" y1="200" x2="215" y2="260" stroke="#879196" stroke-width="2" marker-end="url(#arrow)"/>

                    <g fill="#FF9900">
                        <circle cx="280" cy="135" r="12"/><text x="280" y="140" text-anchor="middle" font-size="12" fill="#232F3E" font-weight="bold">1</text>
                        <circle cx="455" cy="135" r="12"/><text x="455" y="140" text-anchor="middle" font-size="12" fill="#232F3E" font-weight="bold">2</text>
                        <circle cx="720" cy="100" r="12"/><text x="720" y="105" text-anchor="middle" font-size="12" fill="#232F3E" font-weight="bold">3</text>
                        <circle cx="720" cy="250" r="12"/><text x="720" y="255" text-anchor="middle" font-size="12" fill="#232F3E" font-weight="bold">4</text>
                        <circle cx="1345" cy="385" r="12"/><text x="1345" y="390" text-anchor="middle" font-size="12" fill="#232F3E" font-weight="bold">5</text>
                    </g>
                </svg>
            </div>
        </div>

        <div class="section">
            <h2>Core Components</h2>
            <h3>🎨 Frontend Layer</h3>
            <ul>
                <li><strong>CloudFront Distribution:</strong> Global CDN with edge locations for low latency access</li>
                <li><strong>S3 Static Hosting:</strong> React application with Origin Access Identity (OAI) protection</li>
                <li><strong>WAF Protection:</strong> SQL injection, XSS, and rate limiting rules</li>
            </ul>
            <h3>🔌 API & Processing</h3>
            <ul>
                <li><strong>API Gateway:</strong> RESTful endpoints with request throttling and CORS configuration</li>
                <li><strong>Lambda Functions:</strong> Event-driven processors with VPC integration and X-Ray tracing</li>
                <li><strong>Step Functions:</strong> Orchestration for complex document processing workflows</li>
            </ul>
            <h3>🧠 Knowledge Base & AI</h3>
            <ul>
                <li><strong>Bedrock Knowledge Base:</strong> Managed RAG pipeline with automatic chunking and vectorization</li>
                <li><strong>OpenSearch Serverless:</strong> Vector store for semantic search capabilities</li>
                <li><strong>Foundation Models:</strong> Claude 3 Sonnet or Titan for response generation</li>
            </ul>
            <h3>💾 Data & Storage</h3>
            <ul>
                <li><strong>S3 Buckets:</strong> Document storage with versioning, encryption, and lifecycle policies</li>
                <li><strong>DynamoDB:</strong> Conversation history and response caching with TTL</li>
                <li><strong>Cross-Region Replication:</strong> Automatic disaster recovery for production environments</li>
            </ul>
        </div>

        <div class="section">
            <h2>Deployment Guide</h2>
            <h3>Prerequisites</h3>
            <div style="display: flex; gap: 10px; flex-wrap: wrap; margin: 20px 0;">
                <span class="badge">AWS CLI 2.x</span>
                <span class="badge">Node.js 18+</span>
                <span class="badge">AWS CDK 2.x</span>
                <span class="badge">Docker</span>
                <span class="badge">Python 3.11</span>
            </div>
            <h3>Installation Steps</h3>
            <ol class="steps">
                <li>
                    <strong>Clone the repository</strong>
                    <pre><code>git clone https://github.com/your-org/bedrock-chatbot
cd bedrock-chatbot</code></pre>
                </li>
                <li>
                    <strong>Install dependencies</strong>
                    <pre><code>npm install
cd frontend && npm install && cd ..</code></pre>
                </li>
                <li>
                    <strong>Configure AWS credentials</strong>
                    <pre><code>aws configure

# Enter your AWS Access Key ID, Secret Key, and preferred region</code></pre>
                </li>
                <li>
                    <strong>Bootstrap CDK (first time only)</strong>
                    <pre><code>cdk bootstrap aws://ACCOUNT-NUMBER/REGION</code></pre>
                </li>
                <li>
                    <strong>Deploy the infrastructure</strong>
                    <pre><code>cdk deploy --all --require-approval never</code></pre>
                </li>
                <li>
                    <strong>Access the application</strong>
                    <p>After deployment, CDK outputs will provide the CloudFront URL and API endpoints.</p>
                </li>
            </ol>
        </div>

        <div class="section">
            <h2>Usage</h2>
            <ol>
                <li><strong>Access the Application:</strong> Navigate to the CloudFront URL provided in the CDK outputs</li>
                <li><strong>Upload Documents:</strong> Use the admin interface to upload PDF, DOCX, or TXT files to the knowledge base</li>
                <li><strong>Wait for Processing:</strong> Documents are automatically processed and indexed (typically 2-5 minutes)</li>
                <li><strong>Start Chatting:</strong> Use the chat interface to ask questions about your uploaded documents</li>
                <li><strong>View Citations:</strong> Each response includes source citations with confidence scores</li>
            </ol>
        </div>

        <div class="section">
            <h2>Monitoring & Operations</h2>
            <div class="component-grid">
                <div class="component-card">
                    <h4>📈 CloudWatch Dashboard</h4>
                    <p>Real-time metrics for API latency, Lambda errors, and DynamoDB throttles</p>
                </div>
                <div class="component-card">
                    <h4>🔔 Automated Alerts</h4>
                    <p>SNS notifications for errors, high latency, and budget thresholds</p>
                </div>
                <div class="component-card">
                    <h4>🔍 X-Ray Tracing</h4>
                    <p>End-to-end request tracing for debugging and performance optimization</p>
                </div>
                <div class="component-card">
                    <h4>💰 Cost Management</h4>
                    <p>Budget alerts and automatic scaling to control Bedrock API costs</p>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <p>© 2024 Contextual Chatbot | Powered by AWS Bedrock Knowledge Bases</p>
    </div>

<script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ 
        startOnLoad: true, 
        theme: 'dark',
        themeVariables: {
            primaryColor: '#FF9900',
            primaryTextColor: '#EAEDED',
            primaryBorderColor: '#FF9900',
            lineColor: '#545B64',
            secondaryColor: '#d17f00',
            tertiaryColor: '#2c3b4f',
            background: '#232F3E',
            mainBkg: '#FF9900',
            secondBkg: '#d17f00',
            tertiaryBkg: '#2c3b4f',
            primaryFontFamily: 'Roboto, sans-serif',
            fontSize: '16px'
        }
    });
</script>
</body>
</html>
