<svg xmlns="http://www.w3.org/2000/svg" width="1100" height="700" viewBox="0 0 1100 700">
  <defs>
    <style>
      .title { font: 700 22px sans-serif; fill: #232F3E; }
      .label { font: 600 16px sans-serif; fill: #232F3E; }
      .small { font: 12px sans-serif; fill: #232F3E; }
      .box { fill: #FFFFFF; stroke: #707070; stroke-width: 2; rx: 8; }
      .edge { stroke: #666; stroke-width: 2; marker-end: url(#arrow); fill: none; }
      .note { fill: #F6F6F6; stroke: #CCCCCC; stroke-width: 1; rx: 6; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#666" />
    </marker>
  </defs>

  <rect x="20" y="20" width="1060" height="660" fill="#fff" stroke="#e0e0e0"/>
  <text x="40" y="60" class="title">Backend API DR with Route 53 Health Checks</text>

  <!-- Route 53 -->
  <rect x="440" y="90" width="220" height="70" class="box"/>
  <text x="550" y="120" class="label" text-anchor="middle">Route 53 (DNS)</text>
  <text x="550" y="140" class="small" text-anchor="middle">Health check: /health every 30s, 3 failures → failover</text>

  <!-- Primary Region -->
  <rect x="120" y="190" width="380" height="400" class="box"/>
  <text x="310" y="220" class="label" text-anchor="middle">Primary Region (us-west-2)</text>
  <rect x="160" y="250" width="300" height="70" class="box"/>
  <text x="310" y="280" class="label" text-anchor="middle">API Gateway</text>
  <text x="310" y="300" class="small" text-anchor="middle">/docs, /upload, /ingestion-status, /health</text>
  <rect x="160" y="340" width="300" height="60" class="box"/>
  <text x="310" y="375" class="small" text-anchor="middle">Lambdas: Query, Upload, Ingestion, Status, Health</text>
  <rect x="160" y="410" width="300" height="60" class="box"/>
  <text x="310" y="445" class="small" text-anchor="middle">Bedrock Knowledge Base</text>

  <!-- Failover Region -->
  <rect x="600" y="190" width="380" height="400" class="box"/>
  <text x="790" y="220" class="label" text-anchor="middle">Failover Region (us-east-1)</text>
  <rect x="640" y="250" width="300" height="70" class="box"/>
  <text x="790" y="280" class="label" text-anchor="middle">API Gateway</text>
  <text x="790" y="300" class="small" text-anchor="middle">/docs, /upload, /ingestion-status, /health</text>
  <rect x="640" y="340" width="300" height="60" class="box"/>
  <text x="790" y="375" class="small" text-anchor="middle">Lambdas: Query, Upload, Ingestion, Status, Health</text>
  <rect x="640" y="410" width="300" height="60" class="box"/>
  <text x="790" y="445" class="small" text-anchor="middle">Bedrock Knowledge Base</text>

  <!-- Edges -->
  <path class="edge" d="M550,160 C 450,200 350,230 310,250"/>
  <path class="edge" d="M550,160 C 650,200 750,230 790,250"/>

  <!-- Notes -->
  <rect x="140" y="520" width="820" height="80" class="note"/>
  <text x="550" y="550" class="small" text-anchor="middle">Failover Trigger: After 3 consecutive failed health checks (≈90s), DNS points to us-east-1</text>
  <text x="550" y="570" class="small" text-anchor="middle">RTO ~2–3 minutes including DNS propagation; frontend URL stays the same</text>
</svg>


